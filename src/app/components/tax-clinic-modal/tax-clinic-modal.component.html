<div class="modal-overlay" *ngIf="isOpen">
  <div class="modal-content">
    <div class="header">
      <div class="clinic-header-left">
        <img
          src="assets/images/modal-logo.svg"
          alt="Website"
          class="website-icon"
        />
        <h3>{{ isEditMode ? "Edit Tax Clinic" : "Add Tax Clinic" }}</h3>
      </div>
      <button class="close-button" (click)="closeModal()">X</button>
    </div>
    <div class="clinic-details-container">
      <form [formGroup]="clinicForm" (ngSubmit)="saveClinic()">
        <p>{{ "Organization Details" | translate }}</p>
        <div class="org-details">
          <div class="form-row">
            <div class="form-group">
              <label
                >{{ "Tax Clinic Name" | translate }}:
                <span class="required">*</span></label
              >
              <input type="text" formControlName="organizationName" placeholder="Enter Tax clinic/Organisation Name" required />
              <div
                class="error"
                *ngIf="
                  clinicForm.get('organizationName')?.invalid &&
                  clinicForm.get('organizationName')?.touched
                "
              >
                {{ "Tax Clinic Name is required." | translate }}
              </div>
            </div>

            <div class="form-group">
              <label>{{ "Organisation Website:" | translate }}</label>
              <input type="text" formControlName="organisationWebsite" placeholder="Enter Organisation Website"/>
              <div
                class="error"
                *ngIf="
                  clinicForm.hasError('atLeastOneRequired') &&
                  clinicForm.touched
                "
              >
                {{
                  "Either Organisation Website or Email is required."
                    | translate
                }}
              </div>
            </div>

            <div class="form-group">
              <label>{{ "Organisation Email:" | translate }}</label>
              <input type="email" formControlName="organisationalEmail" placeholder="Enter Organisation Email"/>
              <div
                class="error"
                *ngIf="
                  clinicForm.hasError('atLeastOneRequired') &&
                  clinicForm.touched
                "
              >
                {{
                  "Either Organisation Website or Email is required."
                    | translate
                }}
              </div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label
                >{{ "Contact Person Name:" | translate }}
                <span class="required">*</span></label
              >
              <input type="text" formControlName="contactPersonName" required />
              <div
                class="error"
                *ngIf="
                  clinicForm.get('contactPersonName')?.invalid &&
                  clinicForm.get('contactPersonName')?.touched
                "
              >
                Contact Person Name is required.
              </div>
            </div>

            <div class="form-group">
              <label
                >Contact Person Title: <span class="required">*</span></label
              >
              <input
                type="text"
                formControlName="contactPersonTitle"
                required
              />
              <div
                class="error"
                *ngIf="
                  clinicForm.get('contactPersonTitle')?.invalid &&
                  clinicForm.get('contactPersonTitle')?.touched
                "
              >
                Contact person Title is required.
              </div>
            </div>

            <div class="form-group">
              <label>Contact Email: <span class="required">*</span></label>
              <input type="email" formControlName="contactEmail" required />
              <div
                class="error"
                *ngIf="
                  clinicForm.get('contactEmail')?.invalid &&
                  clinicForm.get('contactEmail')?.touched
                "
              >
                Enter a valid email address.
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="required-label">
                Is tax clinic listed on the CRA's "Find a tax clinic in your
                area" page online?
                <span class="required">*</span>
              </label>
              <div class="radio-group">
                <label>
                  <input
                    type="radio"
                    formControlName="listedOnCra"
                    value="Yes"
                  />
                  Yes
                </label>
                <label>
                  <input
                    type="radio"
                    formControlName="listedOnCra"
                    value="No"
                  />
                  No
                </label>
                <label>
                  <input
                    type="radio"
                    formControlName="listedOnCra"
                    value="I dont know"
                  />
                  I do not know
                </label>
              </div>
              <div
                class="error"
                *ngIf="
                  clinicForm.get('listedOnCra')?.invalid &&
                  clinicForm.get('listedOnCra')?.touched
                "
              >
                This field is required.
              </div>
            </div>

            <div class="form-group">
              <label class="required-label">
                Is tax clinic visible on the Community Navigation of Eastern
                Ontario website?
                <span class="required">*</span>
              </label>
              <div class="radio-group">
                <label>
                  <input
                    type="radio"
                    formControlName="visibleOnNceo"
                    value="Yes"
                  />
                  Yes
                </label>
                <label>
                  <input
                    type="radio"
                    formControlName="visibleOnNceo"
                    value="No"
                  />
                  No
                </label>
                <label>
                  <input
                    type="radio"
                    formControlName="visibleOnNceo"
                    value="I do not know"
                  />
                  I do not know
                </label>
              </div>
              <div
                class="error"
                *ngIf="
                  clinicForm.get('visibleOnNceo')?.invalid &&
                  clinicForm.get('visibleOnNceo')?.touched
                "
              >
                This field is required.
              </div>
            </div>
          </div>
        </div>
        <p>Tax Clinic Information</p>
        <div class="org-details">
          <div class="form-row">
            <div class="form-group">
              <label>Alternate Contact Person Name:</label>
              <input type="text" formControlName="alternateContactName" />
            </div>

            <div class="form-group">
              <label>Alternate Contact Person Title:</label>
              <input type="text" formControlName="alternateContactTitle" />
            </div>

            <div class="form-group">
              <label>Alternate Contact Person Email:</label>
              <input type="email" formControlName="alternateContactEmail" />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Alternate Contact Person Phone:</label>
              <input type="email" formControlName="alternateContactPhone" />
            </div>
            <div class="form-group">
              <label
                >Catchment area available, please provide definition (postal
                codes):</label
              >
              <input type="text" formControlName="catchmentArea" />
            </div>
          </div>

          <div class="form-row">
            <div class="form-group location-header">
              <label class="required-label"
                >Tax Clinic Location:<span class="required">*</span></label
              >
              <button type="button" class="add-button" (click)="addLocation()">
                +
              </button>
            </div>
          </div>

          <div formArrayName="locations">
            <div
              *ngFor="
                let location of locationsFormArray.controls;
                let i = index
              "
              [formGroupName]="i"
              class="location-group"
            >
              <div class="form-row">
                <div class="form-group">
                  <label>Street:</label>
                  <input type="text" formControlName="street" required />
                </div>

                <div class="form-group">
                  <label>City:</label>
                  <input type="text" formControlName="city" required />
                </div>

                <div class="form-group">
                  <label>State:</label>
                  <input type="text" formControlName="state" required />
                </div>

                <div class="form-group">
                  <label>Postal Code:</label>
                  <input type="text" formControlName="postalCode" required />
                </div>

                <button
                  type="button"
                  class="remove-button"
                  (click)="removeLocation(i)"
                  *ngIf="locationsFormArray.length > 1"
                >
                  -
                </button>
              </div>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label class="required-label"
                >Appointment Availability:<span class="required">*</span></label
              >
              <div class="radio-group">
                <label>
                  <input
                    type="radio"
                    formControlName="appointmentAvailability"
                    value="Yes"
                  />
                  Yes
                </label>
                <label>
                  <input
                    type="radio"
                    formControlName="appointmentAvailability"
                    value="No"
                  />
                  No
                </label>
                <label>
                  <input
                    type="radio"
                    formControlName="appointmentAvailability"
                    value="Not Sure"
                  />
                  Not Sure
                </label>
              </div>
              <div
                class="error"
                *ngIf="
                  clinicForm.get('appointmentAvailability')?.invalid &&
                  clinicForm.get('appointmentAvailability')?.touched
                "
              >
                This field is required.
              </div>
            </div>

            <div class="form-group">
              <label class="required-label">
                Would like the information about the clinic to be public?:
                <span class="required">*</span></label
              >
              <div class="radio-group">
                <label>
                  <input
                    type="radio"
                    formControlName="publicInfo"
                    value="Yes"
                  />
                  Yes
                </label>
                <label>
                  <input
                    type="radio"
                    formControlName="publicInfo"
                    value="No, only for EBO"
                  />
                  No, only for EBO
                </label>
                <label>
                  <input
                    type="radio"
                    formControlName="publicInfo"
                    value="Maybe but needs more info"
                  />
                  Maybe but needs more info
                </label>
              </div>
              <div
                class="error"
                *ngIf="
                  clinicForm.get('publicInfo')?.invalid &&
                  clinicForm.get('publicInfo')?.touched
                "
              >
                This field is required.
              </div>
            </div>
            <div class="form-group">
              <label>Is clinic wheelchair accessible:</label>
              <div class="radio-group">
                <label>
                  <input
                    type="radio"
                    formControlName="wheelchairAccessible"
                    value="Yes"
                  />
                  Yes
                </label>
                <label>
                  <input
                    type="radio"
                    formControlName="wheelchairAccessible"
                    value="No"
                  />
                  No
                </label>
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="required-label"
                >What kind of tax clinics do you offer?<span class="required"
                  >*</span
                ></label
              >
              <div class="checkbox-group">
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('clinicTypes', $event)"
                    value="Virtual"
                    [checked]="
                      clinicForm.get('clinicTypes')?.value.includes('Virtual')
                    "
                  />
                  Virtual</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('clinicTypes', $event)"
                    value="In person"
                    [checked]="
                      clinicForm.get('clinicTypes')?.value.includes('In person')
                    "
                  />
                  In person</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('clinicTypes', $event)"
                    value="By appointment"
                    [checked]="
                      clinicForm
                        .get('clinicTypes')
                        ?.value.includes('By appointment')
                    "
                  />
                  By appointment</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('clinicTypes', $event)"
                    value="Walk-in"
                    [checked]="
                      clinicForm.get('clinicTypes')?.value.includes('Walk-in')
                    "
                  />
                  Walk-in</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('clinicTypes', $event)"
                    value="Drop-off"
                    [checked]="
                      clinicForm.get('clinicTypes')?.value.includes('Drop-off')
                    "
                  />
                  Drop-off</label
                >
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('clinicTypes', $event)"
                    value="Other"
                    [checked]="
                      clinicForm.get('clinicTypes')?.value.includes('Other')
                    "
                  />
                  Other:
                  <input
                    *ngIf="
                      clinicForm.get('clinicTypesOther')
                    "
                    type="text"
                    formControlName="clinicTypesOther"
                    placeholder="Specify here..."
                  />
                </label>
              </div>
              <div
                class="error"
                *ngIf="
                  clinicForm.get('clinicTypes')?.invalid &&
                  clinicForm.get('clinicTypes')?.touched
                "
              >
                This field is required.
              </div>
            </div>

            <div class="form-group">
              <label class="required-label"
                >For which months is this income tax clinic offered?<span
                  class="required"
                  >*</span
                ></label
              >
              <div class="checkbox-group">
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('monthsOffered', $event)"
                    value="February"
                    [checked]="
                      clinicForm
                        .get('monthsOffered')
                        ?.value.includes('February')
                    "
                  />
                  February</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('monthsOffered', $event)"
                    value="March"
                    [checked]="
                      clinicForm.get('monthsOffered')?.value.includes('March')
                    "
                  />
                  March</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('monthsOffered', $event)"
                    value="April"
                    [checked]="
                      clinicForm.get('monthsOffered')?.value.includes('April')
                    "
                  />
                  April</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('monthsOffered', $event)"
                    value="May"
                    [checked]="
                      clinicForm.get('monthsOffered')?.value.includes('May')
                    "
                  />
                  May</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('monthsOffered', $event)"
                    value="June"
                    [checked]="
                      clinicForm.get('monthsOffered')?.value.includes('June')
                    "
                  />
                  June</label
                >
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('monthsOffered', $event)"
                    value="Other"
                    [checked]="
                      clinicForm.get('monthsOffered')?.value.includes('Other')
                    "
                  />
                  Other:
                  <input
                    *ngIf="
                      clinicForm.get('monthsOfferedOther')
                    "
                    type="text"
                    formControlName="monthsOfferedOther"
                    placeholder="Specify here..."
                  />
                </label>
              </div>
              <div
                class="error"
                *ngIf="clinicForm.get('monthsOffered')?.errors?.['required'] && clinicForm.get('monthsOffered')?.touched"
              >
                This field is required.
              </div>
            </div>
            <div class="form-group">
              <label
                >Hours of operation or Date and time of your tax clinics:</label
              >
              <input type="text" formControlName="hoursAndDate" />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="required-label"
                >Days of operation of the clinic<span class="required"
                  >*</span
                ></label
              >
              <div class="checkbox-group">
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('daysOfOperation', $event)"
                    value="Weekdays"
                    [checked]="
                      clinicForm
                        .get('daysOfOperation')
                        ?.value.includes('Weekdays')
                    "
                  />
                  Weekdays</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('daysOfOperation', $event)"
                    value="Weekends"
                    [checked]="
                      clinicForm
                        .get('daysOfOperation')
                        ?.value.includes('Weekends')
                    "
                  />
                  Weekends</label
                >
              </div>
              <div
                class="error"
                *ngIf="
                  clinicForm.get('daysOfOperation')?.invalid &&
                  clinicForm.get('daysOfOperation')?.touched
                "
              >
                This field is required.
              </div>
            </div>
            <div class="form-group">
              <label class="required-label"
                >Hours of operation of the clinic<span class="required"
                  >*</span
                ></label
              >
              <div class="checkbox-group">
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('hoursOfOperation', $event)"
                    value="Daytime"
                    [checked]="
                      clinicForm
                        .get('hoursOfOperation')
                        ?.value.includes('Daytime')
                    "
                  />
                  Daytime</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('hoursOfOperation', $event)"
                    value="Evening"
                    [checked]="
                      clinicForm
                        .get('hoursOfOperation')
                        ?.value.includes('Evening')
                    "
                  />
                  Evening</label
                >
              </div>
              <div
                class="error"
                *ngIf="
                  clinicForm.get('hoursOfOperation')?.invalid &&
                  clinicForm.get('hoursOfOperation')?.touched
                "
              >
                This field is required.
              </div>
            </div>

            <div class="form-group">
              <label class="required-label"
                >Do this clinic also offer income tax services year round
                outside of tax season?<span class="required">*</span></label
              >
              <div class="radio-group">
                <label
                  ><input
                    type="radio"
                    formControlName="yearRoundService"
                    value="Yes"
                  />
                  Yes</label
                >
                <label
                  ><input
                    type="radio"
                    formControlName="yearRoundService"
                    value="No"
                  />
                  No</label
                >
              </div>
              <div
                class="error"
                *ngIf="
                  clinicForm.get('yearRoundService')?.invalid &&
                  clinicForm.get('yearRoundService')?.touched
                "
              >
                This field is required.
              </div>
            </div>

            <div class="form-group">
              <label class="required-label"
                >Do the clinic serve people from:<span class="required"
                  >*</span
                ></label
              >
              <div class="radio-group">
                <label>
                  <input
                    type="radio"
                    formControlName="servePeopleFrom"
                    value="A specific catchment area only"
                    (change)="onServePeopleChange($event)"
                  />
                  A specific catchment area only
                </label>
                <label>
                  <input
                    type="radio"
                    formControlName="servePeopleFrom"
                    value="Anywhere from Ottawa"
                    (change)="onServePeopleChange($event)"
                  />
                  Anywhere from Ottawa
                </label>
                <label>
                  <input
                    type="radio"
                    formControlName="servePeopleFrom"
                    value="other"
                    (change)="onServePeopleChange($event)"
                  />
                  Other:
                </label>
                <input
                  *ngIf="clinicForm.get('servePeopleFrom')?.value === 'other'"
                  type="text"
                  formControlName="servePeopleFromOther"
                  placeholder="Specify here..."
                />
              </div>
              <div
                class="error"
                *ngIf="
                  clinicForm.get('servePeopleFrom')?.invalid &&
                  clinicForm.get('servePeopleFrom')?.touched
                "
              >
                This field is required.
              </div>
            </div>
          </div>
        </div>
        <p>Population Served Details</p>
        <div class="org-details">
          <div class="form-row">
            <div class="form-group">
              <label>Do you serve?</label>
              <div class="checkbox-group">
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('populationServed', $event)"
                    value="Seniors"
                    [checked]="
                      clinicForm
                        .get('populationServed')
                        ?.value.includes('Seniors')
                    "
                  />
                  Seniors</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('populationServed', $event)"
                    value="Persons with disabilities"
                    [checked]="
                      clinicForm
                        .get('populationServed')
                        ?.value.includes('Persons with disabilities')
                    "
                  />
                  Persons with disabilities</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('populationServed', $event)"
                    value="Newcomers"
                    [checked]="
                      clinicForm
                        .get('populationServed')
                        ?.value.includes('Newcomers')
                    "
                  />
                  Newcomers</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('populationServed', $event)"
                    value="Language-specific community"
                    [checked]="
                      clinicForm
                        .get('populationServed')
                        ?.value.includes('Language-specific community')
                    "
                  />
                  Language-specific community</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('populationServed', $event)"
                    value="Indigenous (First Nations and Inuit and Metis)"
                    [checked]="
                      clinicForm
                        .get('populationServed')
                        ?.value.includes(
                          'Indigenous (First Nations and Inuit and Metis)'
                        )
                    "
                  />
                  Indigenous (First Nations and Inuit and Metis)</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('populationServed', $event)"
                    value="Students"
                    [checked]="
                      clinicForm
                        .get('populationServed')
                        ?.value.includes('Students')
                    "
                  />
                  Students</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('populationServed', $event)"
                    value="Other"
                    [checked]="
                      clinicForm
                        .get('populationServed')
                        ?.value.includes('Other')
                    "
                  />
                  Other</label
                >
                <input
                  *ngIf="clinicForm.get('populationServedOther')"
                  type="text"
                  formControlName="populationServedOther"
                  placeholder="Specify other groups"
                />
              </div>
            </div>

            <div class="form-group">
              <label class="required-label"
                >In which languages is the service available in the clinic?<span
                  class="required"
                  >*</span
                ></label
              >
              <div class="checkbox-group">
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('serviceLanguages', $event)"
                    value="English"
                    [checked]="
                      clinicForm
                        .get('serviceLanguages')
                        ?.value.includes('English')
                    "
                  />
                  English</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('serviceLanguages', $event)"
                    value="French"
                    [checked]="
                      clinicForm
                        .get('serviceLanguages')
                        ?.value.includes('French')
                    "
                  />
                  French</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('serviceLanguages', $event)"
                    value="Arabic"
                    [checked]="
                      clinicForm
                        .get('serviceLanguages')
                        ?.value.includes('Arabic')
                    "
                  />
                  Arabic</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('serviceLanguages', $event)"
                    value="Other"
                    [checked]="
                      clinicForm
                        .get('serviceLanguages')
                        ?.value.includes('Other')
                    "
                  />
                  Other</label
                >
                <input
                  *ngIf="
                    clinicForm.get('serviceLanguagesOther')
                  "
                  type="text"
                  formControlName="serviceLanguagesOther"
                  placeholder="Specify other languages"
                />
              </div>
              <div
                class="error"
                *ngIf="
                  clinicForm.get('serviceLanguages')?.invalid &&
                  clinicForm.get('serviceLanguages')?.touched
                "
              >
                This field is required.
              </div>
            </div>
          </div>
        </div>
        <p>Eligibility Criteria Details</p>
        <div class="org-details">
          <div class="form-row">
            <div class="form-group">
              <label class="required-label"
                >Which tax years do you prepare?<span class="required"
                  >*</span
                ></label
              >
              <div class="checkbox-group">
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('taxYearsPrepared', $event)"
                    value="Only current year"
                    [checked]="
                      clinicForm
                        .get('taxYearsPrepared')
                        ?.value.includes('Only current year')
                    "
                  />
                  Only current year
                </label>
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('taxYearsPrepared', $event)"
                    value="Current and last year"
                    [checked]="
                      clinicForm
                        .get('taxYearsPrepared')
                        ?.value.includes('Current and last year')
                    "
                  />
                  Current and last year
                </label>
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('taxYearsPrepared', $event)"
                    value="Multiple years"
                    [checked]="
                      clinicForm
                        .get('taxYearsPrepared')
                        ?.value.includes('Multiple years')
                    "
                  />
                  Multiple years
                </label>
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('taxYearsPrepared', $event)"
                    value="Other"
                    [checked]="
                      clinicForm
                        .get('taxYearsPrepared')
                        ?.value.includes('Other')
                    "
                  />
                  Other
                </label>
                <input
                  *ngIf="
                    clinicForm.get('taxYearsPreparedOther')
                  "
                  type="text"
                  formControlName="taxYearsPreparedOther"
                  placeholder="Specify other tax years"
                />
              </div>
              <div
                class="error"
                *ngIf="
                  clinicForm.get('taxYearsPrepared')?.invalid &&
                  clinicForm.get('taxYearsPrepared')?.touched
                "
              >
                This field is required.
              </div>
            </div>
            <div class="form-group">
              <label class="required-label"
                >Do you help with tax year for which a client was a resident
                of?<span class="required">*</span></label
              >
              <div class="checkbox-group">
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('residencyTaxYear', $event)"
                    value="Ontario"
                    [checked]="
                      clinicForm
                        .get('residencyTaxYear')
                        ?.value.includes('Ontario')
                    "
                  />
                  Ontario
                </label>
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('residencyTaxYear', $event)"
                    value="Quebec"
                    [checked]="
                      clinicForm
                        .get('residencyTaxYear')
                        ?.value.includes('Quebec')
                    "
                  />
                  Quebec
                </label>
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('residencyTaxYear', $event)"
                    value="Any province other than Ontario and Quebec"
                    [checked]="
                      clinicForm
                        .get('residencyTaxYear')
                        ?.value.includes(
                          'Any province other than Ontario and Quebec'
                        )
                    "
                  />
                  Any province other than Ontario and Quebec
                </label>
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('residencyTaxYear', $event)"
                    value="Other"
                    [checked]="
                      clinicForm
                        .get('residencyTaxYear')
                        ?.value.includes('Other')
                    "
                  />
                  Other
                </label>
                <input
                  *ngIf="
                    clinicForm.get('residencyTaxYearOther')
                  "
                  type="text"
                  formControlName="residencyTaxYearOther"
                  placeholder="Specify other provinces"
                />
              </div>
              <div
                class="error"
                *ngIf="
                  clinicForm.get('residencyTaxYear')?.invalid &&
                  clinicForm.get('residencyTaxYear')?.touched
                "
              >
                This field is required.
              </div>
            </div>
            <div class="form-group">
              <label class="required-label"
                >Do you serve people with?<span class="required">*</span></label
              >
              <div class="checkbox-group">
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('servePeople', $event)"
                    value="Rental income"
                    [checked]="
                      clinicForm
                        .get('servePeople')
                        ?.value.includes('Rental income')
                    "
                  />
                  Rental income</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('servePeople', $event)"
                    value="self-employment income"
                    [checked]="
                      clinicForm
                        .get('servePeople')
                        ?.value.includes('Self-employment income')
                    "
                  />
                  Self-employment income</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('servePeople', $event)"
                    value="Interest income over $1000"
                    [checked]="
                      clinicForm
                        .get('servePeople')
                        ?.value.includes('Self-employment income')
                    "
                  />
                  Interest income over $1000</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('servePeople', $event)"
                    value="Return for a deceased person"
                    [checked]="
                      clinicForm
                        .get('servePeople')
                        ?.value.includes('Return for a deceased person')
                    "
                  />
                  Return for a deceased person</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('servePeople', $event)"
                    value="Employment expenses (with specific conditions)"
                    [checked]="
                      clinicForm
                        .get('servePeople')
                        ?.value.includes(
                          'Employment expenses (with specific conditions)'
                        )
                    "
                  />
                  Employment expenses (with specific conditions)</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('servePeople', $event)"
                    value="Capital Gains/losses (with specific conditions)"
                    [checked]="
                      clinicForm
                        .get('servePeople')
                        ?.value.includes(
                          'Capital Gains/losses (with specific conditions)'
                        )
                    "
                  />
                  Capital Gains/losses (with specific conditions)</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('servePeople', $event)"
                    value="Larger income than CVITP income-criteria. when people are low
                    income now"
                    [checked]="
                      clinicForm.get('servePeople')?.value.includes(
                        'Larger income than CVITP income-criteria. when people are low
                    income now'
                      )
                    "
                  />
                  Larger income than CVITP income-criteria. when people are low
                  income now</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('servePeople', $event)"
                    value="Other"
                    [checked]="
                      clinicForm.get('servePeople')?.value.includes('Other')
                    "
                  />
                  Other</label
                >
                <input
                  *ngIf="clinicForm.get('servePeopleOther')"
                  type="text"
                  formControlName="servePeopleOther"
                  placeholder="Specify other criteria"
                />
              </div>
              <div
                class="error"
                *ngIf="
                  clinicForm.get('servePeople')?.invalid &&
                  clinicForm.get('servePeople')?.touched
                "
              >
                This field is required.
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label
                >Do you have a webpage detailing the eligibility criteria? If
                yes, please provide the webpage address below:</label
              >
              <input
                type="text"
                formControlName="eligibilityCriteriaWebpage"
                placeholder="Enter webpage URL"
              />
            </div>
          </div>
        </div>
        <p>Appointment Booking Details</p>
        <div class="org-details">
          <div class="form-row">
            <div class="form-group">
              <label class="required-label"
                >Process for booking an appointment during the tax season<span
                  class="required"
                  >*</span
                ></label
              >
              <div class="checkbox-group">
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('bookingProcess', $event)"
                    value="In person"
                    [checked]="
                      clinicForm
                        .get('bookingProcess')
                        ?.value.includes('In person')
                    "
                  />
                  In person</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('bookingProcess', $event)"
                    value="By phone"
                    [checked]="
                      clinicForm
                        .get('bookingProcess')
                        ?.value.includes('By phone')
                    "
                  />
                  By phone</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('bookingProcess', $event)"
                    value="Online"
                    [checked]="
                      clinicForm.get('bookingProcess')?.value.includes('Online')
                    "
                  />
                  Online</label
                >
              </div>
              <div
                class="error"
                *ngIf="clinicForm.get('bookingProcess')?.errors?.['required'] && clinicForm.get('bookingProcess')?.touched"
              >
                This field is required.
              </div>
            </div>
            <div class="form-group">
              <label
                >Would an online booking system be useful to the clinic?</label
              >
              <div class="radio-group">
                <label
                  ><input
                    type="radio"
                    formControlName="usefulOnlineBooking"
                    value="Yes"
                  />
                  Yes</label
                >
                <label
                  ><input
                    type="radio"
                    formControlName="usefulOnlineBooking"
                    value="No"
                  />
                  No</label
                >
                <label
                  ><input
                    type="radio"
                    formControlName="usefulOnlineBooking"
                    value="Maybe"
                  />
                  Maybe</label
                >
              </div>
            </div>
            <div class="form-group">
              <label>Link for online appointment booking:</label>
              <input
                type="text"
                formControlName="onlineBookingLink"
                placeholder="Enter online Booking Link"
              />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="required-label"
                >Working days and hours for appointment booking:<span
                  class="required"
                  >*</span
                ></label
              >
              <input
                type="text"
                formControlName="bookingDaysHours"
                placeholder="Enter Working days and hours"
              />
              <div
                class="error"
                *ngIf="
                  clinicForm.get('bookingDaysHours')?.invalid &&
                  clinicForm.get('bookingDaysHours')?.touched
                "
              >
                This field is required.
              </div>
            </div>
            <div class="form-group">
              <label>Phone number for appointment booking:</label>
              <input
                type="text"
                formControlName="bookingContactPhone"
                placeholder="Enter Phone number for Appointment booking"
              />
            </div>
            <div class="form-group">
              <label>Email for appointment booking:</label>
              <input
                type="text"
                formControlName="bookingContactEmail"
                placeholder="Enter Email for appointment booking"
              />
            </div>
          </div>
        </div>
        <p>Client Documentation Details</p>
        <div class="org-details">
          <div class="form-row">
            <div class="form-group">
              <label>Required Documents:</label>
              <input
                type="text"
                formControlName="requiredDocuments"
                placeholder="List required documents..."
              />
            </div>

            <div class="form-group">
              <label class="required-label"
                >If the client does not have all their documentation, can clinic
                help them find it?<span class="required">*</span></label
              >
              <div class="checkbox-group">
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('helpWithMissingDocs', $event)"
                    value="Yes for CRA documents with Autofill/REP ID"
                    [checked]="
                      clinicForm
                        .get('helpWithMissingDocs')
                        ?.value.includes(
                          'Yes for CRA documents with Autofill/REP ID'
                        )
                    "
                  />
                  Yes for CRA documents with Autofill/REP ID
                </label>
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('helpWithMissingDocs', $event)"
                    value="Yes with help from staff or volunteer for some documentation"
                    [checked]="
                      clinicForm
                        .get('helpWithMissingDocs')
                        ?.value.includes(
                          'Yes with help from staff or volunteer for some documentation'
                        )
                    "
                  />
                  Yes with help from staff or volunteer for some documentation
                </label>
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('helpWithMissingDocs', $event)"
                    value="No, client must have all their documents ready"
                    [checked]="
                      clinicForm
                        .get('helpWithMissingDocs')
                        ?.value.includes(
                          'No, client must have all their documents ready'
                        )
                    "
                  />
                  No, client must have all their documents ready
                </label>
              </div>
              <div
                class="error"
                *ngIf="
                  clinicForm.get('helpWithMissingDocs')?.invalid &&
                  clinicForm.get('helpWithMissingDocs')?.touched
                "
              >
                This field is required.
              </div>
            </div>
          </div>
        </div>
        <p>Volunteers Details and other information</p>
        <div class="org-details">
          <div class="form-row">
            <div class="form-group">
              <label>Who is preparing tax returns?</label>
              <div class="checkbox-group">
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('taxPreparers', $event)"
                    value="Volunteers"
                    [checked]="
                      clinicForm
                        .get('taxPreparers')
                        ?.value.includes('Volunteers')
                    "
                  />
                  Volunteers</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('taxPreparers', $event)"
                    value="Employees"
                    [checked]="
                      clinicForm
                        .get('taxPreparers')
                        ?.value.includes('Employees')
                    "
                  />
                  Employees</label
                >
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('taxPreparers', $event)"
                    value="Other"
                    [checked]="clinicForm.get('taxPreparers')?.value.includes('Other')"
                  />
                  Other:
                  <input
                    *ngIf="clinicForm.get('taxPreparersOther')"
                    type="text"
                    formControlName="taxPreparersOther"
                    placeholder="Specify here..."
                  />
                </label>
              </div>
            </div>

            <div class="form-group">
              <label>Who is filing tax returns?</label>
              <div class="checkbox-group">
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('taxFilers', $event)"
                    value="Volunteers"
                    [checked]="
                      clinicForm.get('taxFilers')?.value.includes('Volunteers')
                    "
                  />
                  Volunteers</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('taxFilers', $event)"
                    value="Employees"
                    [checked]="
                      clinicForm.get('taxFilers')?.value.includes('Employees')
                    "
                  />
                  Employees</label
                >
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('taxFilers', $event)"
                    value="Other"
                    [checked]="
                      clinicForm.get('taxFilers')?.value.includes('Other')
                    "
                  />
                  Other:
                  <input
                    *ngIf="clinicForm.get('taxFilersOther')"
                    type="text"
                    formControlName="taxFilersOther"
                    placeholder="Specify here..."
                  />
                </label>
              </div>
            </div>

            <div class="form-group">
              <label>What are your tax clinic volunteers' roles?</label>
              <div class="checkbox-group">
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('volunteerRoles', $event)"
                    value="Booking appointments"
                    [checked]="
                      clinicForm
                        .get('volunteerRoles')
                        ?.value.includes('Booking appointments')
                    "
                  />
                  Booking appointments</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('volunteerRoles', $event)"
                    value="Client intake (gathering personal information and tax slips)"
                    [checked]="
                      clinicForm
                        .get('volunteerRoles')
                        ?.value.includes(
                          'Client intake (gathering personal information and tax slips)'
                        )
                    "
                  />
                  Client intake (gathering personal information and tax
                  slips)</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('volunteerRoles', $event)"
                    value="Preparing tax returns using software"
                    [checked]="
                      clinicForm
                        .get('volunteerRoles')
                        ?.value.includes('Preparing tax returns using software')
                    "
                  />
                  Preparing tax returns using software</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('volunteerRoles', $event)"
                    value="Explaining tax return to client and having them sign e-filing authorization"
                    [checked]="
                      clinicForm
                        .get('volunteerRoles')
                        ?.value.includes(
                          'Explaining tax return to client and having them sign e-filing authorization'
                        )
                    "
                  />
                  Explaining tax return to client and having them sign e-filing
                  authorization</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('volunteerRoles', $event)"
                    value="Tax return verification/audit before e-filing"
                    [checked]="
                      clinicForm
                        .get('volunteerRoles')
                        ?.value.includes(
                          'Tax return verification/audit before e-filing'
                        )
                    "
                  />
                  Tax return verification/audit before e-filing</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('volunteerRoles', $event)"
                    value="E-FILE tax returns"
                    [checked]="
                      clinicForm
                        .get('volunteerRoles')
                        ?.value.includes('E-FILE tax returns')
                    "
                  />
                  E-FILE tax returns</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('volunteerRoles', $event)"
                    value="Administrative tasks"
                    [checked]="
                      clinicForm
                        .get('volunteerRoles')
                        ?.value.includes('Administrative tasks')
                    "
                  />
                  Administrative tasks</label
                >
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('volunteerRoles', $event)"
                    value="Other"
                    [checked]="
                      clinicForm.get('volunteerRoles')?.value.includes('Other')
                    "
                  />
                  Other:
                  <input
                    *ngIf="
                      clinicForm.get('volunteerRolesOther')
                    "
                    type="text"
                    formControlName="volunteerRolesOther"
                    placeholder="Specify here..."
                  />
                </label>
              </div>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label
                >Would you benefit from additional support with any of the
                following?</label
              >
              <div class="checkbox-group">
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('additionalSupport', $event)"
                    value="Volunteer recruitment"
                    [checked]="
                      clinicForm
                        .get('additionalSupport')
                        ?.value.includes('Volunteer recruitment')
                    "
                  />
                  Volunteer recruitment</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('additionalSupport', $event)"
                    value="Volunteer training"
                    [checked]="
                      clinicForm
                        .get('additionalSupport')
                        ?.value.includes('Volunteer training')
                    "
                  />
                  Volunteer training</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('additionalSupport', $event)"
                    value="Training of employees new to operating tax clinics"
                    [checked]="
                      clinicForm
                        .get('additionalSupport')
                        ?.value.includes(
                          'Training of employees new to operating tax clinics'
                        )
                    "
                  />
                  Training of employees new to operating tax clinics</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('additionalSupport', $event)"
                    value="Follow-up with clients post-tax season"
                    [checked]="
                      clinicForm
                        .get('additionalSupport')
                        ?.value.includes(
                          'Follow-up with clients post-tax season'
                        )
                    "
                  />
                  Follow-up with clients post-tax season</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('additionalSupport', $event)"
                    value="Visibility for your tax clinic to reach more clients"
                    [checked]="
                      clinicForm
                        .get('additionalSupport')
                        ?.value.includes(
                          'Visibility for your tax clinic to reach more clients'
                        )
                    "
                  />
                  Visibility for your tax clinic to reach more clients</label
                >
                <label
                  ><input
                    type="checkbox"
                    (change)="onCheckboxChange('additionalSupport', $event)"
                    value="Set up an online booking system"
                    [checked]="
                      clinicForm
                        .get('additionalSupport')
                        ?.value.includes('Set up an online booking system')
                    "
                  />
                  Set up an online booking system</label
                >
                <label>
                  <input
                    type="checkbox"
                    (change)="onCheckboxChange('additionalSupport', $event)"
                    value="Other"
                    [checked]="
                      clinicForm
                        .get('additionalSupport')
                        ?.value.includes('Other')
                    "
                  />
                  Other:
                  <input
                    *ngIf="
                      clinicForm
                        .get('additionalSupportOther')
                    "
                    type="text"
                    formControlName="additionalSupportOther"
                    placeholder="Specify here..."
                  />
                </label>
              </div>
            </div>

            <div class="form-group">
              <label>
                What is the approxime capacity of the tax clinic during the tax
                season (March-April)?
              </label>
              <input
                type="text"
                formControlName="clinicCapacity"
                placeholder="Number of tax returns"
              />
            </div>

            <div class="form-group">
              <label>Any last comments or questions?</label>
              <input
                type="text"
                formControlName="comments"
                placeholder="Your comments or questions..."
              />
            </div>
          </div>
        </div>

        <div class="form-row">
          <button
            type="submit"
            class="save-button"
            [disabled]="clinicForm.invalid"
          >
            {{ isEditMode ? "Update Clinic" : "Add Clinic" }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
